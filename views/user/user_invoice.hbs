<link rel="stylesheet" href="/stylesheets/invoice.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>



<div class="container-fluid mt-100 mb-100">
    <div id="ui-view">
        <div>
            <div class="card">
                <div class="card-header">


                    <div class="pull-right">
                       <button id="download" type="button" class="btn btn-primary"><i class="bi bi-printer-fill"></i> Print</button>
                    </div>



                </div>
                <div class="card-body m-5" id="invoiceBody">
                    <div class="row mb-4">
                        <div class="col-sm-4">
                            <h6 class="mb-3">From:</h6>
                            <div><strong class="text-primary">PhoneCone </strong></div>
                            <div>Oline Shoping</div>
                            <div>NYC, NY 12394</div>
                            <div>Email: shopcone@example.com</div>
                            <div>Phone: +1 848 389 9289</div>
                        </div>

                        <div class="col-sm-4">
                            <h6 class="mb-3">To:</h6>
                            <div><strong>{{deliveryAdddress.productDetails.deliveryAddress.name}}</strong></div>
                            <div>{{deliveryAdddress.productDetails.deliveryAddress.address}}</div>
                            <div>{{deliveryAdddress.productDetails.deliveryAddress.locality}}</div>
                            <div>Pincode: {{deliveryAdddress.productDetails.deliveryAddress.pincode}}</div>
                            <div>Mobile: {{deliveryAdddress.productDetails.deliveryAddress.mobileNo}}</div>
                        </div>

                        <div class="col-sm-4">
                            <h6 class="mb-3">Details:</h6>
                            <div>Invoice: <strong id="invoiceNo"> </strong></div>
                            <div>Date: {{deliveryAdddress.productDetails.dateAndTime}}</div>
                            <div>Total: ₹ {{deliveryAdddress.productDetails.totalAmount}}</div>
                            <div>Payment Method: {{deliveryAdddress.productDetails.paymentMetohd}}</div>
                            <div><strong>SWIFT code: 985798579487</strong></div>
                        </div>

                    </div>

                    <div class="table-responsive-sm">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th class="center">Sl No</th>
                                    <th>ITEM</th>
                                    <th>COMPANY</th>
                                    <th class="center">UNIT PRICE</th>
                                    <th class="right">TOTAL</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                {{#each ordDetails}}
                                    {{#each this.order}}
                                <tr>
                                    <td class="center">{{ index}}</td>
                                    <td class="left">{{this.productName}}</td>
                                    <td class="left">{{this.company}}</td>
                                    <td class="center">₹ {{this.price}} </td>
                                    <td class="right">{{../this.amount}} </td>
                                    
                                </tr>
                                {{/each}}
                                {{/each}}



                            </tbody>
                        </table>
                    </div>
                    <div class="row mt-5">
                        <div class="col-lg-4 col-sm-5">Contrary to popular belief, Lorem Ipsum is not simply random
                            text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000
                            years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia.
                        </div>
                        <div class="col-lg-4 col-sm-5 ml-auto">
                            <table class="table table-clear m">
                                <tbody>
                                    <tr>
                                        <td class="left"><strong>Subtotal</strong></td>
                                        <td class="right">₹ {{deliveryAdddress.productDetails.totalAmount}}</td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="left"><strong>VAT (0%)</strong></td>
                                        <td class="right">₹0</td>
                                    </tr>
                                    <tr>
                                        <td class="left"><strong>Total</strong></td>
                                        <td class="right"><strong>₹ {{deliveryAdddress.productDetails.totalAmount}}</strong></td>
                                    </tr>
                                </tbody>
                            </table>



                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    
window.onload =function(){
    document.getElementById('download').addEventListener('click',()=>{
        const invoice =this. document.getElementById('invoiceBody');
        html2pdf().from(invoice).save()    
    })
}


    document.getElementById("invoiceNo").innerHTML =
        Math.floor(Math.random() * 10000000000 * 10);
 



        

       
</script>